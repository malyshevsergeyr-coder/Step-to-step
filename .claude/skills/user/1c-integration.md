# Скилл: Интеграция с 1С:УПП

## Когда использовать
- При работе с данными из 1С
- При планировании интеграции между веб-приложением и 1С
- При анализе структуры базы данных 1С

## Контекст

### База данных
- **Платформа:** 1С:Предприятие 8.3.27
- **Конфигурация:** УПП 1.3 (доработанная под стекольное производство)
- **Доступ:** Конфигуратор + режим предприятия
- **SQL:** Параметры уточняются

### Ключевые сущности для интеграции

**Справочники:**
- `Номенклатура` — товары и продукция
- `Контрагенты` — заказчики
- `СтеклаДляСтеклопакетов`, `РамкиСтеклопакеты`, `Формулы` — специфика стекла
- `ТехнологическиеОперации`, `ТехнологическиеКартыПроизводства` — маршруты

**Документы:**
- `ЗаказПокупателя` → `ЗаказНаСтеклопакеты` → `ЗаданиеНаРаскройСтеклопакетов` → `ВыпускПродукции`

### Маппинг на наш прототип
| Прототип | 1С |
|----------|-----|
| Дискета | ЗаданиеНаРаскройСтеклопакетов |
| Изделие | Строка задания |
| Этап | ТехнологическаяОперация |
| Выпуск | ВыпускПродукции |

## Файлы
- Документация: `.claude/1C_INTEGRATION.md`
- Скриншоты: `Дерево конфигураций/*.PNG`
- Конфигурация: `C:\Users\office\Desktop\1Cv8.cf`

## Ручная выгрузка из 1С (текущий метод)

### Штатная расстановка
1. Отчёты → Штатная расстановка
2. Развернуть "Отбор" → Подразделение = "3. Стекольное производство"
3. Сформировать → Файл → Сохранить как Excel
4. Загрузить в папку "Штатная расстановка" на Google Drive

### Сохранение настроек отчёта
- Настройки → Сохранить настройки → "Штатная - Стекольное производство"
- В следующий раз: Настройки → Загрузить настройки

## Следующие шаги
1. [ ] Узнать параметры SQL сервера у Андрея
2. [ ] Посмотреть реальный документ ЗаданиеНаРаскройСтеклопакетов
3. [ ] Подключиться к SQL и найти нужные таблицы
4. [ ] Написать API для чтения заказов/заданий

## Связанные таблицы
- Штатная расстановка: `1IfFJYPEZEqWXfDAma7WHp74pvi515SaUEkoo_UqqZrY`
- СПРАВОЧНИК (лист "Сотрудники"): `14D-OArIClwsJQ585RgHk4LBeXqWV_5ukfNMAHnKLotQ`
